import{a as $}from"./chunk-77SYAVCL.js";import{a as j}from"./chunk-AYIK34GE.js";import{F as L,f as R,n as A}from"./chunk-V5B2KLGN.js";import{F as D,R as V}from"./chunk-HLI2QS3U.js";import{$ as d,C as x,Da as T,G as O,H as o,I as f,Ja as N,K as P,P as C,S as u,Sa as B,U as r,V as c,W as p,X as h,Y as v,_ as I,aa as y,ha as w,ia as _,ja as k,ka as S,ra as U,sa as z,ua as E,w as g,x as m}from"./chunk-GCV73WN4.js";import{g as b}from"./chunk-OLRFWS6T.js";function F(e,n){if(e&1&&(h(0),p(1,"img",10),v()),e&2){let a=n.ngIf;o(),u("src",a,O)}}function G(e,n){e&1&&p(0,"ion-icon",11)}function q(e,n){e&1&&(r(0,"span",14),_(1,"D\xE9mo"),c())}function H(e,n){if(e&1&&(r(0,"span",12),_(1),C(2,q,2,0,"span",13),c()),e&2){let a=y();o(),S(" ",a.getUserDisplayName(a.user)," "),o(),u("ngIf",a.isDemoUser(a.user))}}var st=(()=>{let n=class n{constructor(t,s,i){this.auth=t,this.router=s,this.demoService=i,this.user=null,this.toggleMenu=new x}logout(){return b(this,null,function*(){try{yield V(this.auth),this.router.navigate(["/auth/email"])}catch(t){console.error("Error during logout:",t)}})}goToProfile(){this.router.navigate(["/profile"])}getUserDisplayName(t){return t?t.firstName&&t.lastName?`${t.firstName} ${t.lastName}`.trim():t.displayName?t.displayName:t.email?t.email:"":""}isDemoUser(t){return(t==null?void 0:t.isDemo)===!0}};n.\u0275fac=function(s){return new(s||n)(f(D),f(B),f(j))},n.\u0275cmp=P({type:n,selectors:[["app-user-status-bar"]],inputs:{user:"user"},outputs:{toggleMenu:"toggleMenu"},decls:14,vars:6,consts:[["defaultIcon",""],[1,"user-status-bar"],["fill","clear",3,"click"],["name","menu-outline","slot","icon-only"],[1,"user-info"],["fill","clear",1,"user-profile",3,"click"],[4,"ngIf","ngIfElse"],["class","user-name",4,"ngIf"],["fill","clear","color","danger",3,"click"],["name","log-out-outline","slot","start"],["alt","Avatar",1,"user-avatar",2,"width","32px","height","32px","border-radius","50%","object-fit","cover","vertical-align","middle",3,"src"],["name","person-circle-outline","slot","start"],[1,"user-name"],["style","background: orange; color: white; font-size: 0.8em; border-radius: 8px; padding: 2px 8px; margin-left: 6px; vertical-align: middle; font-weight: bold; letter-spacing: 1px;",4,"ngIf"],[2,"background","orange","color","white","font-size","0.8em","border-radius","8px","padding","2px 8px","margin-left","6px","vertical-align","middle","font-weight","bold","letter-spacing","1px"]],template:function(s,i){if(s&1){let l=I();r(0,"div",1)(1,"ion-button",2),d("click",function(){return g(l),m(i.toggleMenu.emit())}),p(2,"ion-icon",3),c(),r(3,"div",4)(4,"ion-button",5),d("click",function(){return g(l),m(i.goToProfile())}),C(5,F,2,1,"ng-container",6)(6,G,1,0,"ng-template",null,0,E)(8,H,3,2,"span",7),c(),r(9,"ion-button",8),d("click",function(){return g(l),m(i.logout())}),p(10,"ion-icon",9),r(11,"span"),_(12),U(13,"translate"),c()()()()}if(s&2){let l=w(7);o(5),u("ngIf",i.user==null?null:i.user.photoURL)("ngIfElse",l),o(3),u("ngIf",i.user),o(4),k(z(13,4,"COMMON.LOGOUT"))}},dependencies:[N,T,L,R,A,$],styles:[".user-status-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#fffffff2;padding:8px 16px;font-size:1rem;border-bottom:1px solid #e0f7fa;position:sticky;top:0;z-index:100;box-shadow:0 2px 4px #0000001a}.user-status-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.user-status-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;--padding-start: 8px;--padding-end: 8px;height:36px;border-radius:18px;background:#0000000d;transition:background-color .2s}.user-status-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]:hover{background:#0000001a}.user-status-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:.95rem;color:#333;font-weight:500}.user-status-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#00bcd4}.user-status-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;height:36px;font-size:.9rem}.user-status-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:4px}.user-status-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   ion-button[color=danger][_ngcontent-%COMP%]{--color: #f44336;--background: rgba(244, 67, 54, .1);border-radius:18px}.user-status-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   ion-button[color=danger][_ngcontent-%COMP%]:hover{--background: rgba(244, 67, 54, .15)}.user-status-bar[_ngcontent-%COMP%]   ion-button[fill=clear][_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;height:36px}.user-status-bar[_ngcontent-%COMP%]   ion-button[fill=clear][_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#333}@media (max-width: 600px){.user-status-bar[_ngcontent-%COMP%]{padding:6px 12px}.user-status-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:.9rem}.user-status-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 4px;--padding-end: 4px;height:32px;font-size:.85rem}.user-status-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}}"]});let e=n;return e})();export{st as a};
