import{a as K}from"./chunk-464GFWSI.js";import{a as J}from"./chunk-YWEJ7XCU.js";import{a as H}from"./chunk-77SYAVCL.js";import{a as v,e as x,f as L}from"./chunk-PJ4DBHJV.js";import"./chunk-AYIK34GE.js";import{A as G,F as q,a as A,b as B,d as F,f as W,l as k,n as U,p as D,q as z,r as R,v as j,w as V}from"./chunk-V5B2KLGN.js";import"./chunk-F6L3CC75.js";import{F as y,M as O}from"./chunk-HLI2QS3U.js";import{$ as u,$a as N,H as r,I as P,Ja as b,K as S,S as E,U as t,V as i,W as p,Ya as w,eb as T,ia as l,ja as c,ka as I,ma as f,na as h,oa as _,ra as d,sa as m}from"./chunk-GCV73WN4.js";import"./chunk-PTOT3QKV.js";import"./chunk-B5GAGNNW.js";import"./chunk-7CZIZFFD.js";import"./chunk-IFM5WRZ2.js";import"./chunk-HC6MZPB3.js";import"./chunk-IP3IRUG3.js";import"./chunk-EX3LFGLF.js";import"./chunk-RMJ7PCZJ.js";import"./chunk-OFKYDT3Y.js";import"./chunk-SJBLRW5X.js";import"./chunk-JFFBAPXU.js";import"./chunk-MCRJI3T3.js";import"./chunk-BBW2JLGN.js";import"./chunk-B7L6ZJ5P.js";import"./chunk-KLLAU2Z6.js";import"./chunk-MGGEGWLF.js";import"./chunk-OAACOBQM.js";import"./chunk-JWIEPCRG.js";import"./chunk-HUAH4PE6.js";import"./chunk-SV7S5NYR.js";import"./chunk-C5RQ2IC2.js";import"./chunk-K5LNJG62.js";import"./chunk-THTBSZJO.js";import"./chunk-GNOVVPTF.js";import"./chunk-BAKMWPBW.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import{g as C}from"./chunk-OLRFWS6T.js";var se=(()=>{let g=class g{constructor(n,o){this.auth=n,this.firestore=o,this.user=null,this.selectedLanguage="fr",this.notificationsEnabled=!0,this.emailNotificationsEnabled=!0}ngOnInit(){O(this.auth,n=>{this.user=n,n&&this.loadUserSettings()})}loadUserSettings(){return C(this,null,function*(){var e,s;if(!this.user)return;let o=(yield L(x(this.firestore,`users/${this.user.uid}`))).data();o&&(this.selectedLanguage=o.preferredLang||"fr",this.notificationsEnabled=(e=o.notificationsEnabled)!=null?e:!0,this.emailNotificationsEnabled=(s=o.emailNotificationsEnabled)!=null?s:!0)})}saveSettings(){return C(this,null,function*(){if(this.user)try{console.log("Settings saved")}catch(n){console.error("Error saving settings:",n)}})}changeLanguage(){console.log("Language changed to:",this.selectedLanguage)}toggleMenu(){let n=document.querySelector("ion-menu");n==null||n.toggle()}};g.\u0275fac=function(o){return new(o||g)(P(y),P(v))},g.\u0275cmp=S({type:g,selectors:[["app-profile"]],decls:38,vars:20,consts:[[3,"title","user"],[3,"toggleMenu","user"],[1,"ion-padding"],[1,"profile-container"],[1,"profile-header"],[1,"profile-avatar"],["name","person-circle-outline"],[1,"user-email"],[1,"profile-settings"],["name","language-outline","slot","start","color","primary"],[3,"ngModelChange","ionChange","ngModel"],["value","fr"],["value","en"],["name","notifications-outline","slot","start","color","primary"],[3,"ngModelChange","ngModel"],["name","mail-outline","slot","start","color","primary"],[1,"profile-actions"],["expand","block","color","primary",3,"click"]],template:function(o,e){o&1&&(p(0,"app-user-header",0),t(1,"app-user-status-bar",1),u("toggleMenu",function(){return e.toggleMenu()}),i(),t(2,"ion-content",2)(3,"div",3)(4,"div",4)(5,"ion-avatar",5),p(6,"ion-icon",6),i(),t(7,"h1"),l(8),i(),t(9,"p",7),l(10),i()(),t(11,"ion-list",8)(12,"ion-item"),p(13,"ion-icon",9),t(14,"ion-label"),l(15),d(16,"translate"),i(),t(17,"ion-select",10),_("ngModelChange",function(a){return h(e.selectedLanguage,a)||(e.selectedLanguage=a),a}),u("ionChange",function(){return e.changeLanguage()}),t(18,"ion-select-option",11),l(19,"Fran\xE7ais"),i(),t(20,"ion-select-option",12),l(21,"English"),i()()(),t(22,"ion-item"),p(23,"ion-icon",13),t(24,"ion-label"),l(25),d(26,"translate"),i(),t(27,"ion-toggle",14),_("ngModelChange",function(a){return h(e.notificationsEnabled,a)||(e.notificationsEnabled=a),a}),i()(),t(28,"ion-item"),p(29,"ion-icon",15),t(30,"ion-label"),l(31),d(32,"translate"),i(),t(33,"ion-toggle",14),_("ngModelChange",function(a){return h(e.emailNotificationsEnabled,a)||(e.emailNotificationsEnabled=a),a}),i()()(),t(34,"div",16)(35,"ion-button",17),u("click",function(){return e.saveSettings()}),l(36),d(37,"translate"),i()()()()),o&2&&(E("title","Mon Profil")("user",e.auth.currentUser),r(),E("user",e.user),r(7),c((e.user==null?null:e.user.displayName)||(e.user==null?null:e.user.email)),r(2),c(e.user==null?null:e.user.email),r(5),c(m(16,12,"PROFILE.LANGUAGE")),r(2),f("ngModel",e.selectedLanguage),r(8),c(m(26,14,"PROFILE.NOTIFICATIONS")),r(2),f("ngModel",e.notificationsEnabled),r(4),c(m(32,16,"PROFILE.EMAIL_NOTIFICATIONS")),r(2),f("ngModel",e.emailNotificationsEnabled),r(3),I(" ",m(37,18,"PROFILE.SAVE")," "))},dependencies:[b,q,F,W,k,U,D,z,R,j,V,G,A,B,T,w,N,H,J,K],styles:[".profile-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px}.profile-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.profile-header[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:96px;height:96px;margin:0 auto 16px;background:#e0f7fa;display:flex;align-items:center;justify-content:center}.profile-header[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;color:#00bcd4}.profile-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333;margin-bottom:8px}.profile-header[_ngcontent-%COMP%]   .user-email[_ngcontent-%COMP%]{font-size:16px;color:#666}.profile-settings[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 4px #0000001a;margin-bottom:24px}.profile-settings[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 56px}.profile-settings[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:16px}.profile-actions[_ngcontent-%COMP%]{padding:0 16px}"]});let M=g;return M})();export{se as ProfilePage};
