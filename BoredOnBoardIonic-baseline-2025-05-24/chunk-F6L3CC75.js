import{Ma as g,b as i,m as o,p as c}from"./chunk-GCV73WN4.js";import{g as l}from"./chunk-OLRFWS6T.js";var f=(()=>{let r=class r{constructor(){this.currentLang=new i("fr"),this.currentLang$=this.currentLang.asObservable();let t=navigator.language.split("-")[0];this.setLanguage(t||"fr")}setLanguage(t){this.currentLang.next(t),document.documentElement.lang=t,localStorage.setItem("preferredLanguage",t)}getCurrentLanguage(){return this.currentLang.value}};r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var v=(()=>{let r=class r{constructor(t,e){this.languageService=t,this.http=e,this.translations={},this.currentLang=new i("fr"),this.languageService.currentLang$.subscribe(s=>{this.currentLang.next(s),this.loadTranslations(s)})}loadTranslations(t){return l(this,null,function*(){if(!this.translations[t])try{let e=yield this.http.get(`/assets/i18n/${t}.json`).toPromise();e&&(this.translations[t]=e)}catch(e){console.error(`Error loading translations for ${t}:`,e)}})}translate(t){let e=this.currentLang.value,s=t.split("."),a=this.translations[e];for(let u of s)if(a&&typeof a=="object"&&u in a)a=a[u];else return t;return typeof a=="string"?a:t}getCurrentLang(){return this.currentLang.value}use(t){this.languageService.setLanguage(t),this.loadTranslations(t)}};r.\u0275fac=function(e){return new(e||r)(c(f),c(g))},r.\u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();export{v as a};
