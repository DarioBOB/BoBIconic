// Script Node.js pour charger les 3 voyages d√©mo complets selon le cahier des charges
// Usage : node scripts/load-demo-trips-complete.js

const admin = require('firebase-admin');
const path = require('path');

try {
  const serviceAccount = require(path.resolve(__dirname, '../serviceAccountKey.json'));
  admin.initializeApp({ credential: admin.credential.cert(serviceAccount) });
} catch (error) {
  console.error('ERREUR: Le fichier serviceAccountKey.json est introuvable.');
  process.exit(1);
}
const db = admin.firestore();

const DEMO_USER_ID = 'fUBBVpboDeaUjD6w2nz0xKni9mG3';

// Fonction utilitaire pour cr√©er des timestamps
function toTimestamp(dateString) {
  return admin.firestore.Timestamp.fromDate(new Date(dateString));
}

// Fonction pour cr√©er un titre multilingue
function createTitle(fr, en) {
  return { fr, en };
}

// Fonction pour cr√©er une description multilingue
function createDescription(fr, en) {
  return { fr, en };
}

async function loadDemoTrips() {
  console.log('üöÄ D√©but du chargement des voyages d√©mo complets...');

  // 1. VOYAGE PASS√â - MARRAKECH (15-22 avril 2024)
  console.log('\nüìÖ Cr√©ation du voyage pass√© : Marrakech');
  const marrakechTripRef = db.collection('trips').doc();
  await marrakechTripRef.set({
    id: marrakechTripRef.id,
    userId: DEMO_USER_ID,
    title: createTitle('Voyage d√©mo Marrakech', 'Demo trip Marrakech'),
    summary: 'Voyage Gen√®ve ‚Üí Marrakech du 15 au 22 avril 2024 - All inclusive avec excursions',
    startDate: toTimestamp('2024-04-15T09:00:00+02:00'),
    endDate: toTimestamp('2024-04-22T13:45:00+02:00'),
    origin: { code: 'GVA', city: 'Gen√®ve', country: 'Suisse' },
    destination: { code: 'RAK', city: 'Marrakech', country: 'Maroc' },
    type: 'vacation',
    currency: 'EUR',
    totalBudget: 2500,
    createdByDemo: true,
    createdAt: admin.firestore.Timestamp.now(),
    updatedAt: admin.firestore.Timestamp.now(),
    status: 'past'
  });

  // Plans du voyage Marrakech
  const marrakechPlans = [
    {
      title: createTitle('Vol Gen√®ve ‚Üí Marrakech', 'Flight Geneva ‚Üí Marrakech'),
      description: createDescription('Vol AT 941 - Royal Air Maroc', 'Flight AT 941 - Royal Air Maroc'),
      type: 'flight',
      startDate: toTimestamp('2024-04-15T09:00:00+02:00'),
      endDate: toTimestamp('2024-04-15T11:30:00+01:00'),
      details: {
        flight: {
          flight_number: 'AT 941',
          airline: 'Royal Air Maroc',
          departure: { airport: 'Gen√®ve A√©roport (GVA)', terminal: '1' },
          arrival: { airport: 'Marrakech Menara (RAK)', terminal: '1' },
          confirmation: 'RAM0415GVA',
          seat: '12A'
        }
      }
    },
    {
      title: createTitle('Transfert A√©roport ‚Üí H√¥tel', 'Airport ‚Üí Hotel Transfer'),
      description: createDescription('Chauffeur priv√© Rachid - Mercedes Vito', 'Private driver Rachid - Mercedes Vito'),
      type: 'activity',
      startDate: toTimestamp('2024-04-15T12:00:00+01:00'),
      endDate: toTimestamp('2024-04-15T13:00:00+01:00'),
      details: {
        transfer: {
          company: 'Atlas Experience',
          driver: 'Rachid',
          vehicle: 'Mercedes Vito climatis√©',
          contact: '+212 6 01 02 03 04'
        }
      }
    },
    {
      title: createTitle('H√¥tel Riu Tikida Palmeraie', 'Hotel Riu Tikida Palmeraie'),
      description: createDescription('All Inclusive - Route F√®s, Km 6', 'All Inclusive - Route F√®s, Km 6'),
      type: 'hotel',
      startDate: toTimestamp('2024-04-15T13:00:00+01:00'),
      endDate: toTimestamp('2024-04-22T11:00:00+01:00'),
      details: {
        hotel: {
          name: 'Riu Tikida Palmeraie Marrakech',
          address: 'Route F√®s, Km 6, Marrakech 40000',
          phone: '+212 5 24 30 30 30',
          room_type: 'Chambre standard',
          board: 'All Inclusive'
        }
      }
    },
    {
      title: createTitle('Visite historique de Marrakech', 'Historical visit of Marrakech'),
      description: createDescription('Guide priv√© Khalid - Palais, M√©dersa, Souks', 'Private guide Khalid - Palaces, Medersa, Souks'),
      type: 'activity',
      startDate: toTimestamp('2024-04-16T09:00:00+01:00'),
      endDate: toTimestamp('2024-04-16T17:00:00+01:00'),
      details: {
        activity: {
          guide: 'Khalid',
          sites: ['Palais de la Bahia', 'M√©dersa Ben Youssef', 'Mosqu√©e Koutoubia', 'Souks de la m√©dina'],
          lunch: 'Terrasse des √âpices',
          reference: 'PRIV-HISTO-MAR04'
        }
      }
    },
    {
      title: createTitle('Vall√©e de l\'Ourika', 'Ourika Valley'),
      description: createDescription('Randonn√©e cascades + d√©jeuner berb√®re', 'Hiking waterfalls + Berber lunch'),
      type: 'activity',
      startDate: toTimestamp('2024-04-17T08:00:00+01:00'),
      endDate: toTimestamp('2024-04-17T17:30:00+01:00'),
      details: {
        activity: {
          transport: '4x4 priv√© avec chauffeur Abderrahim',
          activity: 'Randonn√©e douce 1h dans les cascades de Setti-Fatma',
          lunch: 'D√©jeuner au bord de l\'oued dans une maison berb√®re',
          reference: 'PRIV-OURIKA-J17'
        }
      }
    },
    {
      title: createTitle('Journ√©e d√©tente h√¥tel', 'Hotel relaxation day'),
      description: createDescription('Hammam, spa, piscine, animation musicale', 'Hammam, spa, pool, musical entertainment'),
      type: 'activity',
      startDate: toTimestamp('2024-04-18T09:00:00+01:00'),
      endDate: toTimestamp('2024-04-18T22:00:00+01:00'),
      details: {
        activity: {
          activities: ['Hammam & soins spa', 'Cocktail piscine', 'Animation musicale marocaine'],
          included: true
        }
      }
    },
    {
      title: createTitle('D√©sert d\'Agafay - Sunset & D√Æner', 'Agafay Desert - Sunset & Dinner'),
      description: createDescription('Balade dromadaire + d√Æner tajine sous tente', 'Camel ride + tajine dinner under tent'),
      type: 'activity',
      startDate: toTimestamp('2024-04-19T15:00:00+01:00'),
      endDate: toTimestamp('2024-04-19T22:30:00+01:00'),
      details: {
        activity: {
          activities: ['Balade en dromadaire (30 min)', 'Ap√©ritif vue d√©sert', 'D√Æner tajine sous tente ca√Ødale'],
          entertainment: 'Musique gnawa live',
          reference: 'AGAFAY-EVENING-RIU'
        }
      }
    },
    {
      title: createTitle('Jardin Majorelle & Mus√©e YSL', 'Majorelle Garden & YSL Museum'),
      description: createDescription('Visite priv√©e avec entr√©es coupe-file', 'Private visit with skip-the-line tickets'),
      type: 'activity',
      startDate: toTimestamp('2024-04-20T10:00:00+01:00'),
      endDate: toTimestamp('2024-04-20T13:30:00+01:00'),
      details: {
        activity: {
          sites: ['Jardin Majorelle', 'Mus√©e Yves Saint Laurent'],
          included: 'Entr√©es coupe-file, th√© √† la Villa Oasis',
          reference: 'MJYSL-VIPM'
        }
      }
    },
    {
      title: createTitle('Shopping guid√© m√©dina', 'Guided shopping medina'),
      description: createDescription('Accompagnement personnalis√© dans les souks', 'Personalized accompaniment in souks'),
      type: 'activity',
      startDate: toTimestamp('2024-04-21T10:30:00+01:00'),
      endDate: toTimestamp('2024-04-21T15:00:00+01:00'),
      details: {
        activity: {
          shopping: ['Artisanat', 'Cuir', '√âpices', 'Objets d√©co'],
          reference: 'SHOP-MEDINA-GUIDE'
        }
      }
    },
    {
      title: createTitle('Transfert H√¥tel ‚Üí A√©roport', 'Hotel ‚Üí Airport Transfer'),
      description: createDescription('D√©part h√¥tel 08h00 - Assistance bagages', 'Hotel departure 08h00 - Baggage assistance'),
      type: 'activity',
      startDate: toTimestamp('2024-04-22T08:00:00+01:00'),
      endDate: toTimestamp('2024-04-22T08:45:00+01:00'),
      details: {
        transfer: {
          company: 'Atlas Experience',
          assistance: 'Assistance bagages incluse'
        }
      }
    },
    {
      title: createTitle('Vol Marrakech ‚Üí Gen√®ve', 'Flight Marrakech ‚Üí Geneva'),
      description: createDescription('Vol AT 940 - Royal Air Maroc', 'Flight AT 940 - Royal Air Maroc'),
      type: 'flight',
      startDate: toTimestamp('2024-04-22T10:30:00+01:00'),
      endDate: toTimestamp('2024-04-22T13:45:00+02:00'),
      details: {
        flight: {
          flight_number: 'AT 940',
          airline: 'Royal Air Maroc',
          departure: { airport: 'Marrakech Menara (RAK)', terminal: '1' },
          arrival: { airport: 'Gen√®ve A√©roport (GVA)', terminal: '1' },
          confirmation: 'RAM0422RAK',
          seat: '12A'
        }
      }
    }
  ];

  // Cr√©er les plans Marrakech
  const marrakechBatch = db.batch();
  for (const plan of marrakechPlans) {
    const planRef = db.collection('plans').doc();
    marrakechBatch.set(planRef, {
      id: planRef.id,
      tripId: marrakechTripRef.id,
      userId: DEMO_USER_ID,
      ...plan,
      createdByDemo: true,
      createdAt: admin.firestore.Timestamp.now(),
      updatedAt: admin.firestore.Timestamp.now()
    });
  }
  await marrakechBatch.commit();
  console.log(`‚úÖ Voyage Marrakech cr√©√© avec ${marrakechPlans.length} plans`);

  // 2. VOYAGE EN COURS - ATH√àNES (5-13 juillet 2024)
  console.log('\nüìÖ Cr√©ation du voyage en cours : Ath√®nes');
  const athensTripRef = db.collection('trips').doc();
  await athensTripRef.set({
    id: athensTripRef.id,
    userId: DEMO_USER_ID,
    title: createTitle('Voyage d√©mo Ath√®nes', 'Demo trip Athens'),
    summary: 'Voyage Gen√®ve ‚Üí Ath√®nes du 5 au 13 juillet 2024 - Culture + Santorin',
    startDate: toTimestamp('2024-07-05T07:15:00+02:00'),
    endDate: toTimestamp('2024-07-13T13:00:00+02:00'),
    origin: { code: 'GVA', city: 'Gen√®ve', country: 'Suisse' },
    destination: { code: 'ATH', city: 'Ath√®nes', country: 'Gr√®ce' },
    type: 'vacation',
    currency: 'EUR',
    totalBudget: 1800,
    createdByDemo: true,
    createdAt: admin.firestore.Timestamp.now(),
    updatedAt: admin.firestore.Timestamp.now(),
    status: 'ongoing'
  });

  // Plans du voyage Ath√®nes
  const athensPlans = [
    {
      title: createTitle('Vol Gen√®ve ‚Üí Ath√®nes', 'Flight Geneva ‚Üí Athens'),
      description: createDescription('Vol A3 847 - Aegean Airlines', 'Flight A3 847 - Aegean Airlines'),
      type: 'flight',
      startDate: toTimestamp('2024-07-05T07:15:00+02:00'),
      endDate: toTimestamp('2024-07-05T10:45:00+03:00'),
      details: {
        flight: {
          flight_number: 'A3 847',
          airline: 'Aegean Airlines',
          departure: { airport: 'Gen√®ve A√©roport (GVA)' },
          arrival: { airport: 'A√©roport International d\'Ath√®nes (ATH)' },
          confirmation: 'A3GVAATH567'
        }
      }
    },
    {
      title: createTitle('Location voiture Ath√®nes', 'Car rental Athens'),
      description: createDescription('Europcar - Peugeot 2008 automatique', 'Europcar - Peugeot 2008 automatic'),
      type: 'car_rental',
      startDate: toTimestamp('2024-07-05T11:30:00+03:00'),
      endDate: toTimestamp('2024-07-13T10:00:00+03:00'),
      details: {
        car_rental: {
          company: 'Europcar',
          location: 'ATH Arriv√©es Terminal 1',
          address: 'Eleftherios Venizelos Airport, Spata 190 04, Gr√®ce',
          model: 'Peugeot 2008 automatique',
          reference: 'EUROP-ATH2024'
        }
      }
    },
    {
      title: createTitle('H√¥tel Electra Palace Athens', 'Hotel Electra Palace Athens'),
      description: createDescription('5-7 juillet - Plaka', 'July 5-7 - Plaka'),
      type: 'hotel',
      startDate: toTimestamp('2024-07-05T14:00:00+03:00'),
      endDate: toTimestamp('2024-07-07T09:00:00+03:00'),
      details: {
        hotel: {
          name: 'Electra Palace Athens',
          address: '18-20 N Nikodimou St, Plaka, Ath√®nes 105 57',
          phone: '+30 210 3370000'
        }
      }
    },
    {
      title: createTitle('Visite Acropole + mus√©e', 'Acropolis + museum visit'),
      description: createDescription('Guide local officiel - Entr√©e incluse', 'Official local guide - Entry included'),
      type: 'activity',
      startDate: toTimestamp('2024-07-06T09:00:00+03:00'),
      endDate: toTimestamp('2024-07-06T13:00:00+03:00'),
      details: {
        activity: {
          meeting_point: 'Station Acropolis Metro',
          guide: 'Guide local officiel',
          reference: 'ACRO-ACT105'
        }
      }
    },
    {
      title: createTitle('Route Ath√®nes ‚Üí Patras', 'Route Athens ‚Üí Patras'),
      description: createDescription('Via Corinth - Pause canal de Corinthe', 'Via Corinth - Corinth Canal stop'),
      type: 'activity',
      startDate: toTimestamp('2024-07-07T09:00:00+03:00'),
      endDate: toTimestamp('2024-07-07T12:00:00+03:00'),
      details: {
        transport: {
          route: 'Ath√®nes ‚Üí Patras via Corinth',
          duration: '2h30',
          stops: ['Canal de Corinthe (10h30)']
        }
      }
    },
    {
      title: createTitle('Travers√©e Patras ‚Üí Santorin', 'Ferry Patras ‚Üí Santorini'),
      description: createDescription('Blue Star Ferries - Cabine avec hublot', 'Blue Star Ferries - Cabin with porthole'),
      type: 'activity',
      startDate: toTimestamp('2024-07-07T14:30:00+03:00'),
      endDate: toTimestamp('2024-07-08T06:30:00+03:00'),
      details: {
        ferry: {
          company: 'Blue Star Ferries',
          ship: 'Blue Star Delos',
          cabin: 'Cabine avec hublot - 2 pers.',
          reference: 'BSF2024-710'
        }
      }
    },
    {
      title: createTitle('H√¥tel Aressana Santorin', 'Hotel Aressana Santorini'),
      description: createDescription('8-11 juillet - Fira', 'July 8-11 - Fira'),
      type: 'hotel',
      startDate: toTimestamp('2024-07-08T08:00:00+03:00'),
      endDate: toTimestamp('2024-07-11T11:00:00+03:00'),
      details: {
        hotel: {
          name: 'Hotel Aressana Spa & Suites',
          address: 'Fira Town, Santorini 847 00, Gr√®ce',
          phone: '+30 2286 025366',
          check_in: 'Early check-in confirm√©'
        }
      }
    },
    {
      title: createTitle('Croisi√®re coucher de soleil', 'Sunset cruise'),
      description: createDescription('Catamaran + volcan - Repas inclus', 'Catamaran + volcano - Meals included'),
      type: 'activity',
      startDate: toTimestamp('2024-07-09T15:00:00+03:00'),
      endDate: toTimestamp('2024-07-09T20:00:00+03:00'),
      details: {
        activity: {
          departure: 'Port de Vlychada',
          boat: 'Catamaran',
          included: 'Repas & boissons',
          reference: 'CATASUNSET2024'
        }
      }
    },
    {
      title: createTitle('Vol Santorin ‚Üí Ath√®nes', 'Flight Santorini ‚Üí Athens'),
      description: createDescription('Vol OA 363 - Olympic Air', 'Flight OA 363 - Olympic Air'),
      type: 'flight',
      startDate: toTimestamp('2024-07-11T12:30:00+03:00'),
      endDate: toTimestamp('2024-07-11T13:20:00+03:00'),
      details: {
        flight: {
          flight_number: 'OA 363',
          airline: 'Olympic Air',
          departure: { airport: 'Santorin (JTR)' },
          arrival: { airport: 'Ath√®nes (ATH)' },
          reference: 'OLY-SJUL-2024'
        }
      }
    },
    {
      title: createTitle('H√¥tel Coco-Mat Athens', 'Hotel Coco-Mat Athens'),
      description: createDescription('11-13 juillet - Kolonaki', 'July 11-13 - Kolonaki'),
      type: 'hotel',
      startDate: toTimestamp('2024-07-11T14:00:00+03:00'),
      endDate: toTimestamp('2024-07-13T10:00:00+03:00'),
      details: {
        hotel: {
          name: 'Coco-Mat Hotel Athens',
          address: '36 Patriarchou Ioakim, Kolonaki, Ath√®nes 106 75'
        }
      }
    },
    {
      title: createTitle('D√Æner To Thalassino', 'Dinner To Thalassino'),
      description: createDescription('Sp√©cialit√©s poisson grill√© + ouzo', 'Grilled fish specialties + ouzo'),
      type: 'activity',
      startDate: toTimestamp('2024-07-12T20:00:00+03:00'),
      endDate: toTimestamp('2024-07-12T22:00:00+03:00'),
      details: {
        restaurant: {
          name: 'To Thalassino',
          address: 'Akti Koumoundourou 54, Le Pir√©e 185 33',
          specialties: ['Poisson grill√©', 'Ouzo']
        }
      }
    },
    {
      title: createTitle('Vol Ath√®nes ‚Üí Gen√®ve', 'Flight Athens ‚Üí Geneva'),
      description: createDescription('Vol A3 846 - Aegean Airlines', 'Flight A3 846 - Aegean Airlines'),
      type: 'flight',
      startDate: toTimestamp('2024-07-13T10:15:00+03:00'),
      endDate: toTimestamp('2024-07-13T13:00:00+02:00'),
      details: {
        flight: {
          flight_number: 'A3 846',
          airline: 'Aegean Airlines',
          departure: { airport: 'A√©roport International d\'Ath√®nes (ATH)' },
          arrival: { airport: 'Gen√®ve A√©roport (GVA)' },
          confirmation: 'A3ATHGVA852'
        }
      }
    }
  ];

  // Cr√©er les plans Ath√®nes
  const athensBatch = db.batch();
  for (const plan of athensPlans) {
    const planRef = db.collection('plans').doc();
    athensBatch.set(planRef, {
      id: planRef.id,
      tripId: athensTripRef.id,
      userId: DEMO_USER_ID,
      ...plan,
      createdByDemo: true,
      createdAt: admin.firestore.Timestamp.now(),
      updatedAt: admin.firestore.Timestamp.now()
    });
  }
  await athensBatch.commit();
  console.log(`‚úÖ Voyage Ath√®nes cr√©√© avec ${athensPlans.length} plans`);

  // 3. VOYAGE FUTUR - MONTR√âAL (10-25 septembre 2025)
  console.log('\nüìÖ Cr√©ation du voyage futur : Montr√©al');
  const montrealTripRef = db.collection('trips').doc();
  await montrealTripRef.set({
    id: montrealTripRef.id,
    userId: DEMO_USER_ID,
    title: createTitle('Voyage d√©mo Montr√©al', 'Demo trip Montreal'),
    summary: 'Gen√®ve ‚Üí Montr√©al / Road Trip Qu√©bec 15 jours - 10 au 25 septembre 2025',
    startDate: toTimestamp('2025-09-10T10:40:00+02:00'),
    endDate: toTimestamp('2025-09-26T06:30:00+02:00'),
    origin: { code: 'GVA', city: 'Gen√®ve', country: 'Suisse' },
    destination: { code: 'YUL', city: 'Montr√©al', country: 'Canada' },
    type: 'road_trip',
    currency: 'CAD',
    totalBudget: 3500,
    createdByDemo: true,
    createdAt: admin.firestore.Timestamp.now(),
    updatedAt: admin.firestore.Timestamp.now(),
    status: 'upcoming'
  });

  // Plans du voyage Montr√©al
  const montrealPlans = [
    {
      title: createTitle('Vol Gen√®ve ‚Üí Montr√©al', 'Flight Geneva ‚Üí Montreal'),
      description: createDescription('Vol U2 5129 - EasyJet', 'Flight U2 5129 - EasyJet'),
      type: 'flight',
      startDate: toTimestamp('2025-09-10T10:40:00+02:00'),
      endDate: toTimestamp('2025-09-10T13:00:00-04:00'),
      details: {
        flight: {
          flight_number: 'U2 5129',
          airline: 'EasyJet',
          departure: { airport: 'Gen√®ve A√©roport (GVA)' },
          arrival: { airport: 'Montr√©al-Trudeau (YUL)' },
          confirmation: 'EZK52P9',
          duration: '8h20'
        }
      }
    },
    {
      title: createTitle('Location voiture Montr√©al', 'Car rental Montreal'),
      description: createDescription('Avis - Toyota RAV4 automatique', 'Avis - Toyota RAV4 automatic'),
      type: 'car_rental',
      startDate: toTimestamp('2025-09-10T13:30:00-04:00'),
      endDate: toTimestamp('2025-09-25T10:00:00-04:00'),
      details: {
        car_rental: {
          company: 'Avis',
          location: 'Montr√©al A√©roport YUL',
          address: '975 Blvd. Rom√©o-Vachon N, Dorval, QC H4Y 1H1',
          model: 'Toyota RAV4 automatique',
          reference: 'MONTREAL2025AVIS'
        }
      }
    },
    {
      title: createTitle('H√¥tel Bonaventure Montr√©al', 'Hotel Bonaventure Montreal'),
      description: createDescription('10-12 septembre - Centre-ville', 'September 10-12 - Downtown'),
      type: 'hotel',
      startDate: toTimestamp('2025-09-10T15:00:00-04:00'),
      endDate: toTimestamp('2025-09-12T11:00:00-04:00'),
      details: {
        hotel: {
          name: 'H√¥tel Bonaventure Montr√©al',
          address: '900 Rue de la Gaucheti√®re O, Montr√©al, QC H5A 1E4',
          phone: '+1 514-878-2332'
        }
      }
    },
    {
      title: createTitle('Vieux-Montr√©al & Mont Royal', 'Old Montreal & Mount Royal'),
      description: createDescription('Visite guid√©e historique + mont√©e Mont Royal', 'Historical guided tour + Mount Royal climb'),
      type: 'activity',
      startDate: toTimestamp('2025-09-11T09:00:00-04:00'),
      endDate: toTimestamp('2025-09-11T12:30:00-04:00'),
      details: {
        activity: {
          meeting_point: 'Place d\'Armes, Vieux-Montr√©al',
          guide: 'Guide en fran√ßais',
          reference: 'HISTO-VMX21'
        }
      }
    },
    {
      title: createTitle('Route Montr√©al ‚Üí Qu√©bec', 'Route Montreal ‚Üí Quebec'),
      description: createDescription('260 km - 3h30 de route', '260 km - 3h30 drive'),
      type: 'activity',
      startDate: toTimestamp('2025-09-12T11:00:00-04:00'),
      endDate: toTimestamp('2025-09-12T14:30:00-04:00'),
      details: {
        transport: {
          route: 'Montr√©al ‚Üí Qu√©bec City',
          distance: '260 km',
          duration: '3h30'
        }
      }
    },
    {
      title: createTitle('Auberge Saint-Antoine Qu√©bec', 'Auberge Saint-Antoine Quebec'),
      description: createDescription('12-15 septembre - Vieux-Qu√©bec', 'September 12-15 - Old Quebec'),
      type: 'hotel',
      startDate: toTimestamp('2025-09-12T15:00:00-04:00'),
      endDate: toTimestamp('2025-09-15T10:30:00-04:00'),
      details: {
        hotel: {
          name: 'Auberge Saint-Antoine',
          address: '8 Rue Saint-Antoine, Vieux-Qu√©bec, QC G1K 4C9'
        }
      }
    },
    {
      title: createTitle('Chute Montmorency + Croisi√®re', 'Montmorency Falls + Cruise'),
      description: createDescription('T√©l√©ph√©rique + croisi√®re 1h30', 'Cable car + 1h30 cruise'),
      type: 'activity',
      startDate: toTimestamp('2025-09-13T09:00:00-04:00'),
      endDate: toTimestamp('2025-09-13T13:00:00-04:00'),
      details: {
        activity: {
          departure: 'Quai de Qu√©bec',
          included: 'T√©l√©ph√©rique, croisi√®re 1h30',
          guide: 'Guide bilingue',
          reference: 'CROQ2025'
        }
      }
    },
    {
      title: createTitle('Vol Qu√©bec ‚Üí Gasp√©', 'Flight Quebec ‚Üí Gasp√©'),
      description: createDescription('Vol AC8832 - Air Canada', 'Flight AC8832 - Air Canada'),
      type: 'flight',
      startDate: toTimestamp('2025-09-15T09:30:00-04:00'),
      endDate: toTimestamp('2025-09-15T10:45:00-04:00'),
      details: {
        flight: {
          flight_number: 'AC8832',
          airline: 'Air Canada',
          departure: { airport: 'Qu√©bec YQB' },
          arrival: { airport: 'Gasp√© YGP' },
          reference: 'INT-YQB-GSP-SEP'
        }
      }
    },
    {
      title: createTitle('Location voiture Gasp√©', 'Car rental Gasp√©'),
      description: createDescription('Budget - 15 au 18 septembre', 'Budget - September 15-18'),
      type: 'car_rental',
      startDate: toTimestamp('2025-09-15T11:00:00-04:00'),
      endDate: toTimestamp('2025-09-18T10:00:00-04:00'),
      details: {
        car_rental: {
          company: 'Budget',
          address: '75 Rue de l\'A√©roport, Gasp√©, QC G4X 2K1'
        }
      }
    },
    {
      title: createTitle('H√¥tel Baker Gasp√©', 'Hotel Baker Gasp√©'),
      description: createDescription('15-18 septembre', 'September 15-18'),
      type: 'hotel',
      startDate: toTimestamp('2025-09-15T13:30:00-04:00'),
      endDate: toTimestamp('2025-09-18T10:00:00-04:00'),
      details: {
        hotel: {
          name: 'H√¥tel Baker Gasp√©',
          address: '178 Rue de la Reine, Gasp√©, QC G4X 1T6'
        }
      }
    },
    {
      title: createTitle('Parc Forillon + Baleines', 'Forillon Park + Whales'),
      description: createDescription('Zodiac observation baleines & phoques', 'Zodiac whale & seal watching'),
      type: 'activity',
      startDate: toTimestamp('2025-09-16T08:00:00-04:00'),
      endDate: toTimestamp('2025-09-16T12:30:00-04:00'),
      details: {
        activity: {
          location: 'Cap-des-Rosiers, Forillon',
          boat: 'Zodiac',
          activity: 'Observation baleines & phoques',
          reference: 'BALEINE-FR88'
        }
      }
    },
    {
      title: createTitle('Route Gasp√© ‚Üí Perc√©', 'Route Gasp√© ‚Üí Perc√©'),
      description: createDescription('1h30 de route', '1h30 drive'),
      type: 'activity',
      startDate: toTimestamp('2025-09-18T10:00:00-04:00'),
      endDate: toTimestamp('2025-09-18T11:30:00-04:00'),
      details: {
        transport: {
          route: 'Gasp√© ‚Üí Perc√©',
          duration: '1h30'
        }
      }
    },
    {
      title: createTitle('H√¥tel Ri√¥tel Perc√©', 'Hotel Ri√¥tel Perc√©'),
      description: createDescription('18-20 septembre', 'September 18-20'),
      type: 'hotel',
      startDate: toTimestamp('2025-09-18T12:00:00-04:00'),
      endDate: toTimestamp('2025-09-20T08:00:00-04:00'),
      details: {
        hotel: {
          name: 'H√¥tel Ri√¥tel Perc√©',
          address: '261 Route 132, Perc√©, QC G0C 2L0'
        }
      }
    },
    {
      title: createTitle('Rocher Perc√© + √éle Bonaventure', 'Perc√© Rock + Bonaventure Island'),
      description: createDescription('Bateau + randonn√©e libre', 'Boat + free hiking'),
      type: 'activity',
      startDate: toTimestamp('2025-09-19T09:00:00-04:00'),
      endDate: toTimestamp('2025-09-19T14:00:00-04:00'),
      details: {
        activity: {
          activities: ['Bateau', 'Randonn√©e libre'],
          reference: 'ILEBONAV2025'
        }
      }
    },
    {
      title: createTitle('Route Perc√© ‚Üí Rimouski', 'Route Perc√© ‚Üí Rimouski'),
      description: createDescription('5h30 de route - Pause d√©jeuner Matane', '5h30 drive - Lunch stop Matane'),
      type: 'activity',
      startDate: toTimestamp('2025-09-20T08:00:00-04:00'),
      endDate: toTimestamp('2025-09-20T15:00:00-04:00'),
      details: {
        transport: {
          route: 'Perc√© ‚Üí Rimouski',
          duration: '5h30',
          stops: ['Pause d√©jeuner √† Matane']
        }
      }
    },
    {
      title: createTitle('H√¥tel Rimouski', 'Hotel Rimouski'),
      description: createDescription('20-21 septembre', 'September 20-21'),
      type: 'hotel',
      startDate: toTimestamp('2025-09-20T15:00:00-04:00'),
      endDate: toTimestamp('2025-09-21T10:00:00-04:00'),
      details: {
        hotel: {
          name: 'H√¥tel Rimouski',
          address: '225 Blvd Ren√©-Lepage E, Rimouski, QC G5L 1P2'
        }
      }
    },
    {
      title: createTitle('Sous-marin Onondaga + Phare', 'Onondaga Submarine + Lighthouse'),
      description: createDescription('Pointe-au-P√®re - Audio-guide FR/EN', 'Pointe-au-P√®re - Audio-guide FR/EN'),
      type: 'activity',
      startDate: toTimestamp('2025-09-20T17:00:00-04:00'),
      endDate: toTimestamp('2025-09-20T19:00:00-04:00'),
      details: {
        activity: {
          location: 'Pointe-au-P√®re',
          included: 'Audio-guide FR/EN'
        }
      }
    },
    {
      title: createTitle('Ferry Rimouski ‚Üí Tadoussac', 'Ferry Rimouski ‚Üí Tadoussac'),
      description: createDescription('Via Baie-Comeau - 2h travers√©e', 'Via Baie-Comeau - 2h crossing'),
      type: 'activity',
      startDate: toTimestamp('2025-09-21T11:00:00-04:00'),
      endDate: toTimestamp('2025-09-21T13:00:00-04:00'),
      details: {
        ferry: {
          route: 'Rimouski ‚Üí Tadoussac via Baie-Comeau',
          duration: '2h travers√©e'
        }
      }
    },
    {
      title: createTitle('H√¥tel Tadoussac', 'Hotel Tadoussac'),
      description: createDescription('21-23 septembre', 'September 21-23'),
      type: 'hotel',
      startDate: toTimestamp('2025-09-21T13:00:00-04:00'),
      endDate: toTimestamp('2025-09-23T10:00:00-04:00'),
      details: {
        hotel: {
          name: 'H√¥tel Tadoussac',
          address: '165 Rue Bord de l\'Eau, Tadoussac, QC G0T 2A0'
        }
      }
    },
    {
      title: createTitle('Safari baleines Zodiac', 'Whale Safari Zodiac'),
      description: createDescription('Centre d\'observation Tadoussac', 'Tadoussac observation center'),
      type: 'activity',
      startDate: toTimestamp('2025-09-22T09:30:00-04:00'),
      endDate: toTimestamp('2025-09-22T12:00:00-04:00'),
      details: {
        activity: {
          location: 'Centre d\'observation, Tadoussac',
          boat: 'Zodiac',
          reference: 'WHALE-ZDX-TAD2025'
        }
      }
    },
    {
      title: createTitle('Route Tadoussac ‚Üí Montr√©al', 'Route Tadoussac ‚Üí Montreal'),
      description: createDescription('6h de route - Retour', '6h drive - Return'),
      type: 'activity',
      startDate: toTimestamp('2025-09-23T10:00:00-04:00'),
      endDate: toTimestamp('2025-09-23T16:30:00-04:00'),
      details: {
        transport: {
          route: 'Tadoussac ‚Üí Montr√©al',
          duration: '6h de route'
        }
      }
    },
    {
      title: createTitle('H√¥tel Le Germain Montr√©al', 'Hotel Le Germain Montreal'),
      description: createTitle('23-25 septembre - Derniers jours', 'September 23-25 - Last days'),
      type: 'hotel',
      startDate: toTimestamp('2025-09-23T16:30:00-04:00'),
      endDate: toTimestamp('2025-09-25T10:00:00-04:00'),
      details: {
        hotel: {
          name: 'H√¥tel Le Germain',
          address: '2050 Rue Mansfield, Montr√©al, QC H3A 1Y9'
        }
      }
    },
    {
      title: createTitle('Retour voiture Montr√©al', 'Car return Montreal'),
      description: createDescription('A√©roport Montr√©al - 10h00', 'Montreal Airport - 10h00'),
      type: 'activity',
      startDate: toTimestamp('2025-09-25T10:00:00-04:00'),
      endDate: toTimestamp('2025-09-25T10:30:00-04:00'),
      details: {
        car_return: {
          location: 'Montr√©al A√©roport',
          time: '10h00'
        }
      }
    },
    {
      title: createTitle('Vol Montr√©al ‚Üí Gen√®ve', 'Flight Montreal ‚Üí Geneva'),
      description: createDescription('Vol LX 87 - SWISS', 'Flight LX 87 - SWISS'),
      type: 'flight',
      startDate: toTimestamp('2025-09-25T15:15:00-04:00'),
      endDate: toTimestamp('2025-09-26T06:30:00+02:00'),
      details: {
        flight: {
          flight_number: 'LX 87',
          airline: 'SWISS',
          departure: { airport: 'Montr√©al-Trudeau (YUL)' },
          arrival: { airport: 'Gen√®ve A√©roport (GVA)' },
          reference: 'SWISSMTLGVA2025'
        }
      }
    }
  ];

  // Cr√©er les plans Montr√©al
  const montrealBatch = db.batch();
  for (const plan of montrealPlans) {
    const planRef = db.collection('plans').doc();
    montrealBatch.set(planRef, {
      id: planRef.id,
      tripId: montrealTripRef.id,
      userId: DEMO_USER_ID,
      ...plan,
      createdByDemo: true,
      createdAt: admin.firestore.Timestamp.now(),
      updatedAt: admin.firestore.Timestamp.now()
    });
  }
  await montrealBatch.commit();
  console.log(`‚úÖ Voyage Montr√©al cr√©√© avec ${montrealPlans.length} plans`);

  console.log('\nüéâ CHARGEMENT TERMIN√â AVEC SUCC√àS !');
  console.log('üìä R√âSUM√â :');
  console.log(`   ‚Ä¢ Voyage pass√© (Marrakech) : ${marrakechPlans.length} plans`);
  console.log(`   ‚Ä¢ Voyage en cours (Ath√®nes) : ${athensPlans.length} plans`);
  console.log(`   ‚Ä¢ Voyage futur (Montr√©al) : ${montrealPlans.length} plans`);
  console.log(`   ‚Ä¢ Total : ${marrakechPlans.length + athensPlans.length + montrealPlans.length} plans`);
}

loadDemoTrips().catch(err => {
  console.error('‚ùå Erreur lors du chargement :', err);
  process.exit(1);
}); 